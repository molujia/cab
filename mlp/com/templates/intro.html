<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.staticfile.org/twitter-bootstrap/5.1.1/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.staticfile.org/twitter-bootstrap/5.1.1/js/bootstrap.bundle.min.js"></script>
    <title>作业批改网-介绍</title>
    <link href="/static/icon.ico" rel="icon">
</head>
<body>
<style>
     body{
        background: url(/static/images/background4.png);
        background-repeat: no-repeat;
        background-position: center top;
        background-size: cover;
    }
</style>
<!-- 导航条设置 -->
<nav class="navbar navbar-expand-lg bg-light navbar-light navbar-fixed-top">
    <div class="col-lg-2 offset-lg-1">
        <a class="navbar-brand" href="#top">
            <img alt="Brand" src="/static/icon.ico" width="30" height="30">
            作业批改网
        </a>
    </div>
    <ul class="navbar-nav nav-tabs nav-justified col-lg-3">
        <li class="nav-item">
            <a class="nav-link active" href="/">介绍</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="/apply" id="apply">产品体验</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="/history/{{username}}" style="pointer-events: none;" id="history">
                历史记录</a>
        </li>
    </ul>
    <div class="col-lg-2 offset-lg-2">
        <label class="label" style="opacity: 0" id="user_label"></label>
    </div>
    <div class="col-lg-1">
        <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#signIn"
                id="login_button">登录
        </button>
        <div class="modal fade" id="signIn">
            <div class="modal-dialog modal-sm modal-dialog-centered">
                <div class="modal-content">
                    <!-- 模态框头部 -->
                    <div class="modal-header">
                        <h3 class="modal-title" style="margin-left: 110px">登录</h3>
                        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                    </div>
                    <!-- 模态框内容 -->
                    <div class="modal-body">
                        <form action="{{url_for('intro_login')}}" , method="POST">
                            <div class="mb-3 mt-3">
                                <input type="text" class="form-control" placeholder="请输入用户名" name="username">
                            </div>
                            <div class="mb-3">
                                <input type="password" class="form-control" placeholder="请输入密码" name="password">
                            </div>
                            <div class="modal-footer">
                                <button type="submit" class="btn btn-primary" data-bs-dismiss="modal"
                                        style="margin-left: auto;margin-right: auto">
                                    确定
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</nav>

<!-- 将功能介绍放在首页的轮播里 -->
<div id="my_carousel" class="carousel slide col-lg-8 offset-lg-2 border" data-bs-ride="carousel"
     style="margin-top: 30px;margin-bottom: 30px">

    <div class="carousel-indicators">
        <button type="button" data-bs-target="#my_carousel" data-bs-slide-to="0" class="active"></button>
        <button type="button" data-bs-target="#my_carousel" data-bs-slide-to="1"></button>
        <button type="button" data-bs-target="#my_carousel" data-bs-slide-to="2"></button>
        <button type="button" data-bs-target="#my_carousel" data-bs-slide-to="3"></button>
        <button type="button" data-bs-target="#my_carousel" data-bs-slide-to="4"></button>
        <button type="button" data-bs-target="#my_carousel" data-bs-slide-to="5"></button>
    </div>

    <!-- 轮播图片 -->
    <div class="carousel-inner">
        <div class="carousel-item active">
            <img src="/static/background3.png" class="rounded" style="width:100%">
            <div class="carousel-caption">
                <h1><strong>手写作业批改</strong></h1>
                <p>
                    本产品可以对简单的四则运算进行检测和分析，并与用户写下的答案进行比较，最终可以实现正误的判断和未给出答案的显示。
                </p>
            </div>
        </div>
        <div class="carousel-item">
            <img src="/static/carousel_2.jpg" class="rounded" style="width:100%">
            <div class="carousel-caption text-center">
                <p class="text-success" style="font-size: 140%">进入产品体验页面，点击左侧上传图片</p>
            </div>
        </div>
        <div class="carousel-item">
            <img src="/static/carousel_3.jpg" class="rounded" style="width:100%">
            <div class="carousel-caption text-center">
                <p class="text-success" style="font-size: 140%">选择您要上传的批改作业文件</p>
            </div>
        </div>
        <div class="carousel-item">
            <img src="/static/carousel_4.jpg" class="rounded" style="width:100%">
            <div class="carousel-caption text-center">
                <p class="text-success" style="font-size: 140%">作业批改完成，可看到题目的对错和补全，以及正确率分析</p>
            </div>
        </div>
        <div class="carousel-item">
            <img src="/static/carousel_5.jpg" class="rounded" style="width:100%">
            <div class="carousel-caption text-center">
                <p class="text-success" style="font-size: 140%">用户登录后，可查看历史提交记录</p>
            </div>
        </div>
        <div class="carousel-item">
            <img src="/static/carousel_6.jpg" class="rounded" style="width:100%">
            <div class="carousel-caption text-center text-primary">
                <h1>Thanks</h1>
            </div>
        </div>
    </div>

    <!-- 左右切换按钮 -->
    <button class="carousel-control-prev" type="button" data-bs-target="#my_carousel" data-bs-slide="prev">
        <span class="carousel-control-prev-icon"></span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#my_carousel" data-bs-slide="next">
        <span class="carousel-control-next-icon"></span>
    </button>
</div>
<script>
    <!-- 接收登录参数 -->
    var state = '{{is_success}}';
    if (state == 'pass') {
        document.getElementById('user_label').innerText = 'Hello {{username}}'
        document.getElementById('login_button').style.opacity = '0';
        document.getElementById('login_button').class = 'disabled';
        document.getElementById('user_label').style.opacity = '1';
        document.getElementById('history').style = "";
        document.getElementById('apply').href = '/apply/{{username}}'
    } else if (state == 'refuse') {
        alert('用户名或密码输入错误!')
    }
    ;
</script>

</body>
</html>